acceptance:
    extensions:
        FriendsOfBehat\ContextServiceExtension:
            imports:
            - 'tests/acceptance/Resources/config/contexts.yml'
        FriendsOfBehat\CrossContainerExtension: ~
        FriendsOfBehat\SymfonyExtension:
            kernel:
                bootstrap: 'var/bootstrap.php.cache'
                class: 'AppKernel'
                debug: true
                env: 'acceptance'
                path: 'app/AppKernel.php'
    suites:
        user:
            paths:
                - '%paths.base%/tests/features/user'
            contexts_services:
                - 'Khatovar\Tests\Acceptance\Context\FeatureContext'
            filters:
                tags: '@acceptance'

integration:
    extensions:
        FriendsOfBehat\ContextServiceExtension:
            imports:
            - 'tests/integration/Resources/config/contexts.yml'
        FriendsOfBehat\CrossContainerExtension: ~
        FriendsOfBehat\SymfonyExtension:
            kernel:
                bootstrap: 'var/bootstrap.php.cache'
                class: 'AppKernel'
                debug: true
                env: 'test'
                path: 'app/AppKernel.php'
    suites:
        user:
            paths:
                - '%paths.base%/tests/integration/features/user'
            contexts_services:
                - 'Khatovar\Tests\Integration\Context\FeatureContext'

end-to-end:
    extensions:
        FriendsOfBehat\ContextServiceExtension:
            imports:
            - 'tests/end-to-end/Resources/config/contexts.yml'
        FriendsOfBehat\CrossContainerExtension: ~
        FriendsOfBehat\SymfonyExtension:
            kernel:
                bootstrap: 'var/bootstrap.php.cache'
                class: 'AppKernel'
                debug: true
                env: 'test'
                path: 'app/AppKernel.php'
    suites:
        user:
            paths:
                - '%paths.base%/tests/features/user'
            contexts_services:
                - 'Khatovar\Tests\EndToEnd\Context\FeatureContext'
            filters:
                tags: '@end-to-end'

legacy:
    extensions:
        Behat\MinkExtension:
            sessions:
                default:
                    symfony2: ~
        Behat\Symfony2Extension:
            kernel:
                bootstrap: 'vendor/autoload.php'
                env: 'test'
        BehatExtension\DoctrineDataFixturesExtension\Extension:
            lifetime: 'scenario'
            autoload: 'false'
            directories: ~
            fixtures:
                - 'Context\DataFixtures\ORM\LoadUserData'
    suites:
        documents:
            contexts:
                - Context\DocumentsBundleFixtureContext:
                    container: '@service_container'
                - Context\DocumentsBundleFeatureContext:
                    container: '@service_container'
                - Context\DocumentsBundleDownloadContext:
                    container: '@service_container'
            paths:
                - '%paths.base%/features/documents'
        user:
            contexts:
                - Context\UserBundleFeatureContext:
                    session: '@session'
            paths:
                - '%paths.base%/features/user'
